# CORN项目依赖包列表
# 基于Python 3.8和CUDA 11.8/12.1环境
# 更新日期: 2024年8月31日

# ============================================================================
# 核心深度学习框架 (重要: 版本必须严格匹配)
# ============================================================================

# PyTorch - 必须使用指定版本，避免兼容性问题
# 对于 CUDA 11.8: torch==2.0.1+cu118
# 对于 CUDA 12.1: torch==2.0.1+cu121
torch==2.0.1
torchvision==0.15.2
# 注意: 不要通过 conda 安装，使用 pip + --index-url 方式

# ============================================================================
# Isaac Gym相关 (需要单独安装)
# ============================================================================
# Isaac Gym 需要从官方包安装，不能通过pip安装
# 下载地址: https://developer.nvidia.com/isaac-gym
# 安装路径: /opt/isaacgym
# Python版本限制: 仅支持 3.6-3.8

# ============================================================================
# 3D渲染和几何处理 (关键依赖)
# ============================================================================

# PyTorch3D - 版本兼容性很重要
# 推荐使用预编译包，避免编译问题
pytorch3d==0.7.4

# 3D几何处理
trimesh>=3.11.0,<5.0.0
yourdfpy>=0.0.50,<1.0.0

# ============================================================================
# 配置管理
# ============================================================================
omegaconf>=2.2.0,<3.0.0
hydra-core>=1.3.0,<2.0.0
yacs>=0.1.6,<1.0.0

# ============================================================================
# 张量操作和数学库
# ============================================================================
einops>=0.6.0,<1.0.0
numpy>=1.21.0,<2.0.0  # 注意: 避免使用 numpy 2.0
scipy>=1.7.0,<2.0.0

# ============================================================================
# 强化学习环境
# ============================================================================
gymnasium>=0.28.0,<1.0.0
# gym>=0.26.0,<1.0.0  # 已弃用，使用gymnasium替代

# ============================================================================
# 图像处理
# ============================================================================
opencv-python>=4.5.0,<5.0.0
pillow>=8.0.0,<11.0.0
imageio>=2.15.0,<3.0.0

# ============================================================================
# 数据可视化
# ============================================================================
matplotlib>=3.3.0,<4.0.0
seaborn>=0.11.0,<1.0.0

# ============================================================================
# 数据处理
# ============================================================================
pandas>=1.3.0,<2.0.0
scikit-learn>=1.0.0,<2.0.0

# ============================================================================
# 调试和日志
# ============================================================================
icecream>=2.1.0,<3.0.0
colorlog>=6.0.0,<7.0.0

# ============================================================================
# 进度条和工具
# ============================================================================
tqdm>=4.60.0,<5.0.0

# ============================================================================
# 网络和HTTP
# ============================================================================
requests>=2.25.0,<3.0.0
httpx>=0.20.0,<1.0.0

# ============================================================================
# 文件系统
# ============================================================================
iopath>=0.1.7,<1.0.0
portalocker>=2.0.0,<4.0.0

# ============================================================================
# 其他工具
# ============================================================================
fvcore>=0.1.5,<1.0.0
tabulate>=0.8.0,<1.0.0
termcolor>=2.0.0,<3.0.0

# ============================================================================
# 可选依赖（根据需要安装）
# ============================================================================
# wandb>=0.12.0,<1.0.0  # 实验跟踪
# tensorboard>=2.8.0,<1.0.0  # 训练监控
# ray[rllib]>=2.0.0,<1.0.0  # 分布式强化学习

# ============================================================================
# 开发依赖（可选）
# ============================================================================
# pytest>=6.0.0,<8.0.0
# black>=22.0.0,<24.0.0
# flake8>=4.0.0,<7.0.0

# ============================================================================
# 安装说明
# ============================================================================
# 1. 创建 Python 3.8 环境: conda create -n isaacgym python=3.8
# 2. 安装 Isaac Gym: 从官方下载并安装到 /opt/isaacgym
# 3. 安装 PyTorch: pip install torch==2.0.1 torchvision==0.15.2 --index-url https://download.pytorch.org/whl/cu118
# 4. 安装 PyTorch3D: 使用预编译包或从源码编译
# 5. 安装其他依赖: pip install -r requirements.txt
# 6. 设置环境变量: 参考 setup_env.sh 脚本

# ============================================================================
# 版本兼容性表
# ============================================================================
# | 组件      | 版本要求        | 备注                    |
# |-----------|-----------------|-------------------------|
# | Python    | 3.8.x          | Isaac Gym 限制         |
# | PyTorch   | 2.0.1          | 避免 2.4.x 版本        |
# | CUDA      | 11.8 或 12.1   | 与 PyTorch 版本匹配   |
# | PyTorch3D | 0.7.4          | 与 PyTorch 2.0.1 兼容 |
# | Isaac Gym | Preview 4      | 官方版本               |
